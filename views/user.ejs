<main class="user-profile-container" style ="--user-color: var(--<%= userProfile.user_color || 'pastel-yellow' %>);">
  <section class="user-info">
    <h1><%= userProfile.name %></h1>
    <p><strong>Email:</strong> <%= userProfile.email %></p>
    <p><strong>About:</strong> <%= userProfile.about || 'No information provided.' %></p>
    <p><strong>Phone:</strong> <%= userProfile.phone_number || 'Not provided' %></p>
    <p><strong>Favorite Book:</strong> <%= userProfile.favorite_book_title || 'None' %></p>
  </section>

  <section class="user-reviews">
    <h2>Reviews by <%= userProfile.name %></h2>

    <% if (userReviews.length === 0) { %>
      <p>No reviews yet.</p>
    <% } else { %>
      <p>Total Reviews: <%= userReviews.length %></p>
      <ul class="reviews-list">
        <% userReviews.forEach(review => { %>
          <li>
            <!-- Entire review item is clickable -->
            <a href="/user/<%= userProfile.user_id %>/review/<%= review.review_id %>" class="review-item">
              
              <div class="review-header">
                <h4><%= review.book_title %></h4>
                <div class="star-rating">
                  <% 
                    let stars = Math.round(review.rating / 2); // Convert /10 rating to 5-star scale
                    for (let i = 1; i <= 5; i++) { 
                  %>
                    <span class="<%= i <= stars ? 'star filled' : 'star' %>">&#9733;</span>
                  <% } %>
                  <span class="rating-text">(<%= review.rating %>/10)</span>
                </div>
              </div>

              <img src="<%= review.book_cover || '/img/placeholder.jpg' %>" alt="Cover of <%= review.book_title %>" class="review-book-cover" />
              <p><%= review.short_description %></p>
            </a>
          </li>
        <% }) %>
      </ul>
    <% } %>
  </section>
</main>
